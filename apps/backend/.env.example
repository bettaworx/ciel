
# Environment (production, prod, development, dev)
# Development is the default if not set
ENV=development

# Allowed CORS origins (comma-separated list, exact match only)
# IMPORTANT: Use exact URLs to prevent bypass attacks
# Production example: https://yourdomain.com,https://www.yourdomain.com
# Development default: http://localhost:3000,http://127.0.0.1:3000
# If not set, defaults to localhost origins for development
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

TRUST_PROXY=true
STEPUP_TOKEN_TTL_SECONDS=300

# Cookie security
# IMPORTANT: Set this in production to restrict cookies to your domain
# Examples: "example.com" or ".example.com" (with dot to include subdomains)
# Leave empty for development (defaults to current domain)
COOKIE_DOMAIN=

# Redis connection
# Format: redis://[:password@]host:port[/db]
# For password-protected Redis: redis://:your-password@localhost:6379
# REQUIRED in production: minimum 16 characters
# Generate password: openssl rand -base64 32
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=

# Media storage directory
# The server will attempt to create this directory on startup with 0755 permissions
# If initialization fails (e.g., due to insufficient permissions), media uploads will return 503
# Recommended: Use absolute path or ensure the parent directory is writable
# Examples:
#   - Relative path (resolved from working directory): ./data/media
#   - Absolute path: /var/lib/ciel/media
MEDIA_DIR=./data/media

PUBLIC_BASE_URL=http://localhost:6137

# Realtime WebSocket signing secret (REQUIRED in production)
# REQUIRED: minimum 32 characters
# Generate: openssl rand -base64 32
# DO NOT use placeholder values like "replace" or "changeme"
REALTIME_SIGNING_SECRET=replace
REALTIME_WS_MAX_CONNECTIONS=1000
REALTIME_WS_MAX_CONNECTIONS_PER_IP=50

POSTGRES_DB=ciel
POSTGRES_USER=ciel
# PostgreSQL password (REQUIRED in production: minimum 16 characters)
# Generate: openssl rand -base64 32
# DO NOT use weak passwords like "ciel", "postgres", "password"
POSTGRES_PASSWORD=replace

# JWT Secret (REQUIRED in all environments)
# REQUIRED: minimum 32 characters
# Generate: openssl rand -base64 32
# DO NOT use placeholder values like "replace", "secret", or "changeme"
# This is required even in development to ensure proper security practices
JWT_SECRET=replace

# Database connection URL
# IMPORTANT: Use strong password (not the placeholder "ciel")
# Production: MUST NOT contain weak passwords like "ciel", "postgres", "password"
DATABASE_URL=postgres://ciel:password@localhost:5432/ciel?sslmode=disable

# Initial setup password (REQUIRED in all environments)
# This is a simple passphrase used for the initial server setup wizard.
# You can use any simple string like "MySetupPassword123" or "Apple".
# After setup is complete, you may remove this from the environment.
INITIAL_SETUP_PASSWORD=your-setup-passphrase-here

# Config file path (optional, defaults to ./config/config.yaml)
CONFIG_PATH=./config/config.yaml
